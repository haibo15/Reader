<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能文本阅读器</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="css/audio-player.css">
    <link rel="stylesheet" href="css/document-history.css">
</head>
<body>
    <div class="app-container">
        <!-- 左侧导航栏 -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>📚 智能阅读器</h2>
            </div>
            <ul class="nav-menu">
                <li class="nav-item active" data-section="upload">
                    <a href="#upload" class="nav-link">
                        <span class="nav-icon">📄</span>
                        <span class="nav-text">文档上传</span>
                    </a>
                </li>
                <li class="nav-item" data-section="history">
                    <a href="#history" class="nav-link">
                        <span class="nav-icon">📚</span>
                        <span class="nav-text">历史文档</span>
                    </a>
                </li>
                <li class="nav-item" data-section="audio">
                    <a href="#audio" class="nav-link">
                        <span class="nav-icon">🎵</span>
                        <span class="nav-text">音频管理</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- 主内容区域 -->
        <main class="main-content">
            <!-- 文档上传板块 -->
            <section class="content-section active" id="upload-section">
                <div class="section-header">
                    <h1>📄 文档上传</h1>
                    <p>上传您的文档，开始智能阅读之旅</p>
                </div>
                
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <div class="upload-icon">📁</div>
                        <p>拖拽文件到此处或点击选择文件</p>
                        <p class="file-types">支持格式: PDF, TXT, EPUB, DOCX</p>
                        <input type="file" id="fileInput" accept=".pdf,.txt,.epub,.docx" style="display: none;">
                        <button class="upload-btn" onclick="FileUpload.triggerFileSelect()">
                            选择文件
                        </button>
                    </div>
                </div>
                <div id="uploadProgress" class="progress-bar" style="display: none;">
                    <div class="progress-fill"></div>
                </div>
            </section>

            <!-- 历史文档板块 -->
            <section class="content-section" id="history-section">
                <div class="history-list" id="historyList">
                    <!-- 文档历史列表将在这里显示 -->
                </div>
            </section>

            <!-- 音频管理板块 -->
            <section class="content-section" id="audio-section">
                <!-- 音频文件列表 -->
                <div class="audio-files-section" id="audioFilesSection">
                    <div class="audio-files-table-container">
                        <table class="audio-files-table history-table" id="audioFilesTable">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>文件名</th>
                                    <th>状态</th>
                                    <th>章节数</th>
                                    <th>音频文件数</th>
                                    <th>文件大小</th>
                                    <th>生成时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody id="audioFilesTableBody">
                                <!-- 音频文件表格行将在这里动态生成 -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="audio-files-list" id="audioFilesList" style="display: none;">
                        <!-- 保留原有的卡片式列表作为备用 -->
                    </div>
                </div>
                
                <!-- 模块1：文件信息 -->
                <div class="module file-info-module" id="fileInfoModule" style="display: none;">
                    <!-- 模块内容将由JavaScript动态生成 -->
                </div>

                <!-- 模块2：章节列表 -->
                <div class="module chapters-module" id="chaptersModule" style="display: none;">
                    <!-- 模块内容将由JavaScript动态生成 -->
                </div>

                <!-- 模块3：语音设置 -->
                <div class="module voice-settings-module" id="voiceSettingsModule" style="display: none;">
                    <!-- 模块内容将由JavaScript动态生成 -->
                </div>

                <!-- 模块4：音频生成 -->
                <div class="module audio-generation-module" id="audioGenerationModule" style="display: none;">
                    <!-- 模块内容将由JavaScript动态生成 -->
                </div>

                <!-- 模块5：合并音频播放 -->
                <div class="module merged-audio-module" id="mergedAudioModule" style="display: none;">
                    <!-- 模块内容将由JavaScript动态生成 -->
                </div>

                <!-- 模块6：章节音频列表 -->
                <div class="module chapters-audio-module" id="chaptersAudioModule" style="display: none;">
                    <!-- 模块内容将由JavaScript动态生成 -->
                </div>
            </section>
        </main>
    </div>

    <!-- 状态信息 -->
    <div class="status-section">
        <div id="statusMessage" class="status-message"></div>
    </div>

    <!-- 模块化脚本 -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/fileUpload.js"></script>
    <script src="js/fileDisplay.js"></script>
    <script src="js/voiceSettings.js"></script>
    <script src="js/audioGenerator.js"></script>
    <script src="js/audioProgressTracker.js"></script>
    <script src="js/audioProgressUI.js"></script>
    <script src="js/audioStatusManager.js"></script>
    <script src="js/audioVersionManager.js"></script>
    <!-- 拆分后的音频播放器模块：进度 -> 合并 -> 列表 -> 核心 -->
    <script src="js/audioPlayer.progress.js"></script>
    <script src="js/audioPlayer.merged.js"></script>
    <script src="js/audioPlayer.list.js"></script>
    <script src="js/audioPlayer.core.js"></script>
    <script src="js/audioDownloader.js"></script>
    <script src="js/audioMerger.js"></script>
    <script src="js/documentHistory.js"></script>
    <script src="js/audioFilesManager.js"></script>
    
    <!-- 新的模块化脚本 -->
    <script src="js/modules/fileInfo.js"></script>
    <script src="js/modules/chapters.js"></script>
    <script src="js/modules/voiceSettings.js"></script>
    <script src="js/modules/audioGeneration.js"></script>
    <script src="js/modules/mergedAudio.js"></script>
    <script src="js/modules/chaptersAudio.js"></script>
    <script src="js/modules/moduleManager.js"></script>
    
    <script src="script.js"></script>
</body>
</html>
