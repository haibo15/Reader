# 前端服务启动说明

## 启动命令

### 1. 正常开发模式
```bash
npm run dev
```
- 第一次启动时会自动打开浏览器
- 后续重启时不会自动打开浏览器
- 使用nodemon自动重启服务

### 2. 强制打开浏览器
```bash
npm run dev:open
```
- 每次启动都会自动打开浏览器
- 适用于需要重新打开浏览器的场景

### 3. 重置浏览器标记
```bash
npm run dev:reset
```
- 删除浏览器标记文件
- 下次启动时会重新自动打开浏览器
- 适用于想要重新体验首次启动效果

### 4. 生产模式
```bash
npm start
```
- 使用原始的server.js文件
- 每次都会打开浏览器

## 工作原理

1. **首次启动**: 系统会检查是否存在 `.browser-opened` 标记文件
2. **自动打开**: 如果标记文件不存在，会自动打开浏览器并创建标记文件
3. **后续启动**: 如果标记文件存在，则不会自动打开浏览器
4. **重置功能**: 删除标记文件后，下次启动会重新自动打开浏览器

## 文件说明

- `server.js`: 服务器文件，支持智能浏览器控制
- `reset-browser.js`: 重置浏览器标记的工具脚本
- `.browser-opened`: 浏览器标记文件（自动生成）

## 使用建议

- 日常开发使用 `npm run dev`
- 需要重新打开浏览器时使用 `npm run dev:open`
- 想要重置首次启动体验时使用 `npm run dev:reset`
